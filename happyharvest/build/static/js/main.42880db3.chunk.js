(this.webpackJsonphappyharvest=this.webpackJsonphappyharvest||[]).push([[0],{25:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),o=n(21),a=n.n(o),i=(n(25),n(7)),c=n(8),p=n(10),l=n(9),h=n(6),u=n(4),d=n(5),j="signIn:updateSignInForm",b="signIn:resetSignInForm",m="signIn:updateSignInMessage";function g(e){return{type:j,payload:{name:e.target.name,value:e.target.value}}}function O(){return{type:b,payload:{}}}function v(e){return{type:m,payload:{msg:e}}}var x=n(19),f="currentUser:setUser",y="currentUser:logOut";function U(e){return{type:f,payload:{username:e.username?e.username:"",fullname:e.fullname?e.fullname:"",email:e.email?e.email:"",registration:e.registration?e.registration:0,farmElements:{cropSpaces:e.farmElements.cropSpaces?e.farmElements.cropSpaces:0,animalSpaces:e.farmElements.animalSpaces?e.farmElements.animalSpaces:0,currentCrops:e.farmElements.currentCrops?Object(x.a)(e.farmElements.currentCrops):[],currentAnimals:e.farmElements.currentAnimals?Object(x.a)(e.farmElements.currentAnimals):[]},inventory:{currentCash:e.inventory.currentCash?e.inventory.currentCash:0,cropBoost:e.inventory.cropBoost?e.inventory.cropBoost:0,animalBoost:e.inventory.animalBoost?e.inventory.animalBoost:0,products:e.inventory.products?Object(x.a)(e.inventory.products):[],seeds:e.inventory.seeds?Object(x.a)(e.inventory.seeds):[]}}}}function S(){return{type:y,payload:{}}}var C=n(37),w="auth:setToken";function k(e){return{type:w,payload:{authToken:e}}}var T=n(0),E=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).handleChange=r.handleChange.bind(Object(h.a)(r)),r.handleClick=r.handleClick.bind(Object(h.a)(r)),r.handleKeyPress=r.handleKeyPress.bind(Object(h.a)(r)),r}return Object(c.a)(n,[{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleClick()}},{key:"handleChange",value:function(e){this.props.onUpdateSignInForm(e)}},{key:"handleClick",value:function(){var e=this,t=this.props.cookies,n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:this.props.signIn.username?String(this.props.signIn.username):"-",password:this.props.signIn.password?String(this.props.signIn.password):"-"})};fetch("http://10.6.130.90/users/auth",n).then((function(e){return e.json()})).then((function(n){"true"===n.status?(e.props.onUpdateSignInMessage(""),e.props.onSetUser(n),n.authToken&&(t.set("authToken",n.authToken,{path:"/"}),t.set("authUser",n.username,{path:"/"}),e.props.onSetToken(t.get("authToken")))):e.props.onUpdateSignInMessage(n.msg)})).catch((function(e){alert(e)}))}},{key:"render",value:function(){return Object(T.jsxs)("form",{className:"Login",children:[Object(T.jsx)("h2",{style:{color:"white"},children:"Introduzca sus datos:"}),Object(T.jsx)("input",{type:"text",placeholder:"Usuario",name:"username",onChange:this.handleChange}),Object(T.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",name:"password",onChange:this.handleChange,onKeyPress:this.handleKeyPress}),Object(T.jsx)("button",{type:"button",className:"greenbutton",onClick:this.handleClick,children:"Enviar"}),Object(T.jsx)("br",{}),Object(T.jsx)("p",{children:this.props.signIn.msg})]})}}]),n}(s.a.Component),I=Object(C.a)(Object(d.b)((function(e,t){return{currentUser:e.currentUser,signIn:e.signIn,auth:e.auth}}),(function(e,t){return Object(u.a)({onUpdateSignInForm:g,onResetSignInForm:O,onUpdateSignInMessage:v,onSetUser:U,onLogOut:S,onSetToken:k},e)}))(E));var P=function(e){return Object(T.jsx)("div",{style:{minHeight:"800px",marginTop:"5%",marginBottom:"5%",marginLeft:"20%",marginRight:"20%",width:"60%",backgroundColor:"white",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},children:e.children})},B=n(2);var L=function(e){return""===e.props.username?Object(T.jsx)("div",{children:Object(T.jsxs)(P,{children:[Object(T.jsx)("br",{}),Object(T.jsx)(I,{})]})}):Object(T.jsx)(B.a,{to:"/"})},A=n(3),M="signUp:updateSignUpForm",z="signUp:resetSignUpForm",R="signUp:updateSignUpMessage";function F(e){return{type:M,payload:{name:e.target.name,value:e.target.value}}}function H(){return{type:z,payload:{}}}function N(e){return{type:R,payload:{validUser:e.validUser,validPassword:e.validPassword,validEmail:e.validEmail}}}var D=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleClick=e.handleClick.bind(Object(h.a)(e)),e}return Object(c.a)(n,[{key:"handleChange",value:function(e){this.props.onUpdateSignUpForm(e)}},{key:"handleClick",value:function(){var e=this;this.props.onUpdateSignUpMessage({validUser:"",validPassword:"",validEmail:""});var t=!0,n=/[^a-z0-9]/i;if(this.props.signUp.username.length<=5&&(this.props.onUpdateSignUpMessage({validUser:"El nombre de usuario debe contener al menos 6 caracteres"}),t=!1),n.test(this.props.signUp.username)&&(this.props.onUpdateSignUpMessage({validUser:"El nombre de usuario no debe contener caracteres especiales"}),t=!1),this.props.signUp.password.length<=5&&(this.props.onUpdateSignUpMessage({validPassword:"La contrase\xf1a debe contener al menos 6 caracteres"}),t=!1),n.test(this.props.signUp.password)&&(this.props.onUpdateSignUpMessage({validPassword:"La contrase\xf1a no debe contener caracteres especiales"}),t=!1),this.props.signUp.password!==this.props.signUp.passwordRepeat&&(this.props.onUpdateSignUpMessage({validPassword:"La contrase\xf1a no coincide"}),t=!1),/^([a-z]|[0-9])+@([a-z]|[0-9])+(\.([a-z][a-z])+)+/i.test(this.props.signUp.email)||(this.props.onUpdateSignUpMessage({validEmail:"Introduzca un correo con formato v\xe1lido: examplemail@example.com"}),t=!1),t){var r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:this.props.signUp.username?String(this.props.signUp.username):"-",password:this.props.signUp.password?String(this.props.signUp.password):"-",email:this.props.signUp.email?String(this.props.signUp.email):"-"})};fetch("http://10.6.130.90/users",r).then((function(e){return e.json()})).then((function(t){console.log(t),"res"===t.type?(e.props.onUpdateSignUpForm({target:{name:"register",value:"true"===t.register}}),e.props.onUpdateSignUpMessage({validUser:t.validUser?t.validUser:"",validPassword:t.validPassword?t.validPassword:"",validEmail:t.validEmail?t.validEmail:""})):alert(t.msg)})).catch((function(e){alert(e)}))}}},{key:"render",value:function(){var e={color:"red"},t=Object(T.jsxs)("div",{children:[Object(T.jsx)("br",{}),Object(T.jsxs)("form",{className:"Login",children:[Object(T.jsx)("h2",{children:"Introduzca sus datos:"}),Object(T.jsx)("input",{type:"text",placeholder:"Usuario",name:"username",onChange:this.handleChange}),Object(T.jsx)("p",{style:e,children:this.props.signUp.validUser}),Object(T.jsx)("input",{type:"text",placeholder:"Correo electr\xf3nico",name:"email",onChange:this.handleChange}),Object(T.jsx)("p",{style:e,children:this.props.signUp.validEmail}),Object(T.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",name:"password",onChange:this.handleChange}),Object(T.jsx)("input",{type:"password",placeholder:"Repetir contrase\xf1a",name:"passwordRepeat",onChange:this.handleChange}),Object(T.jsx)("p",{style:e,children:this.props.signUp.validPassword}),Object(T.jsx)("button",{type:"button",className:"greenbutton",onClick:this.handleClick,children:"Registrarme"}),Object(T.jsx)("br",{}),Object(T.jsx)("p",{children:this.props.signUp.msg})]})]}),n=Object(T.jsxs)("div",{children:[Object(T.jsx)("h1",{children:"Usted ha sido registrado satisfactoriamente"}),Object(T.jsx)(A.b,{to:"/signin",children:Object(T.jsx)("button",{children:"Iniciar sesi\xf3n"})})]});return this.props.signUp.register?n:t}}]),n}(s.a.Component),_=Object(d.b)((function(e,t){return{signUp:e.signUp}}),(function(e,t){return Object(u.a)({onUpdateSignUpForm:F,onResetSignUpForm:H,onUpdateSignUpMessage:N},e)}))(D);var K=function(e){return""===e.props.username?Object(T.jsx)("div",{children:Object(T.jsx)(P,{children:Object(T.jsx)(_,{})})}):Object(T.jsx)(B.a,{to:"/"})},V=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).handleClick=r.handleClick.bind(Object(h.a)(r)),r}return Object(c.a)(n,[{key:"handleClick",value:function(){var e=this.props.cookies;this.props.onLogOut(),this.props.onSetToken(""),e.set("authToken",void 0,{path:"/"}),e.set("authUser",void 0,{path:"/"})}},{key:"render",value:function(){var e={height:"100px",width:"100%",backgroundColor:"#8BC34A",color:"white",borderBottomStyle:"solid",borderBottomColor:"black"},t={margin:"0px",paddingTop:"5px",marginBottom:"0px",marginLeft:"2%",fontSize:"2em",textShadow:"-2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000"},n=Object(T.jsxs)("nav",{style:e,children:[Object(T.jsx)("h1",{style:t,children:"\xa1Bienvenido a HappyHarvest!"}),Object(T.jsx)("br",{}),Object(T.jsx)(A.b,{to:"/",children:Object(T.jsx)("button",{style:{marginLeft:"2%"},children:"Home"})}),Object(T.jsx)(A.b,{to:"/signin",children:Object(T.jsx)("button",{children:"Login"})}),Object(T.jsx)(A.b,{to:"/signup",children:Object(T.jsx)("button",{children:"Registrarse"})})]}),r=Object(T.jsxs)("nav",{style:e,children:[Object(T.jsx)("h1",{style:t,children:"\xa1Bienvenido a HappyHarvest!"}),Object(T.jsx)("br",{}),Object(T.jsx)(A.b,{to:"/",children:Object(T.jsx)("button",{style:{marginLeft:"2%"},children:"Home"})}),Object(T.jsx)("button",{type:"button",onClick:this.handleClick,children:"Cerrar sesi\xf3n"})]});return""===this.props.currentUser.username?n:r}}]),n}(s.a.Component),G=Object(C.a)(Object(d.b)((function(e,t){return{currentUser:e.currentUser,auth:e.auth}}),(function(e,t){return Object(u.a)({onLogOut:S,onSetToken:k},e)}))(V));var J=function(){return Object(T.jsxs)("footer",{style:{position:"absolute",width:"100%",backgroundColor:"#558B2F",color:"white",display:"inline"},children:[Object(T.jsx)("p",{children:"Acerca de:"}),Object(T.jsx)("p",{children:"Alu0101..."}),Object(T.jsx)("p",{children:"Alu0101..."})]})};var X=function(e){var t={display:"block",width:"40%",marginLeft:"30%",marginBottom:"7vh",fontSize:"1.4em",paddingTop:"10px",paddingBottom:"10px",fontWeight:"bold",color:"white",textShadow:"-2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000",backgroundColor:"#AED581"};return""===e.props.username?Object(T.jsxs)(P,{children:[Object(T.jsx)("br",{}),Object(T.jsxs)("div",{className:"Welcome",children:[Object(T.jsx)("h1",{children:" \xa1Bienvenido a HappyHarvest! "}),Object(T.jsx)("p",{children:"Actualmente no se encuentra registrado, por favor, cree una cuenta. En caso de tener una cuenta inicie sesi\xf3n."}),Object(T.jsx)(A.b,{to:"/signin",children:Object(T.jsx)("button",{children:"Login"})}),Object(T.jsx)(A.b,{to:"/signup",children:Object(T.jsx)("button",{children:"Registro"})})]})]}):Object(T.jsx)("div",{children:Object(T.jsx)(P,{children:Object(T.jsxs)("div",{style:{paddingTop:"80px"},children:[Object(T.jsx)("h1",{style:{textAlign:"center",fontSize:"5em",color:"white",textShadow:"-3px -3px 0 #000, 3px -3px 0 #000, -3px 3px 0 #000, 3px 3px 0 #000"},children:"Happy Harvest"}),Object(T.jsx)(A.b,{to:"/Crops",children:Object(T.jsx)("button",{type:"button",className:"greenbutton",style:t,children:"Mis cultivos"})}),Object(T.jsx)(A.b,{to:"/Inventory",children:Object(T.jsx)("button",{type:"button",className:"greenbutton",style:t,children:"Inventario"})}),Object(T.jsx)(A.b,{to:"/Shop",children:Object(T.jsx)("button",{type:"button",className:"greenbutton",style:t,children:"Tienda"})})]})})})},q=n(13),W=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).harvestCrop=r.harvestCrop.bind(Object(h.a)(r)),r.growCrop=r.growCrop.bind(Object(h.a)(r)),r.updateSel=r.updateSel.bind(Object(h.a)(r)),r.selection="",r}return Object(c.a)(n,[{key:"updateSel",value:function(e){this.selection=e.target.value}},{key:"harvestCrop",value:function(){var e=this;if(this.props.elementInfo.lastProduction+36e5*this.props.elementInfo.cycleTime<=(new Date).getTime()){var t={method:"GET",headers:{Authorization:"Bearer ".concat(this.props.auth.authToken)}};console.log("*Hacker voice: Im in"),console.log(this.props.id),fetch("http://10.6.130.90/users/".concat(this.props.currentUser.username,"/Crops?position=").concat(this.props.id),t).then((function(e){return e.json()})).then((function(n){"res"==n.type&&"OK"==n.msg?fetch("http://10.6.130.90/users/".concat(e.props.currentUser.username),t).then((function(e){return e.json()})).then((function(t){"res"===t.type?e.props.onSetUser(t):e.props.onLogOut()})):"res"==n.type?alert(n.msg):console.log(n)})).catch((function(t){console.log(t),e.props.onLogOut()}))}}},{key:"growCrop",value:function(e){var t=this;if(""!==this.selection){var n={method:"POST",headers:{Authorization:"Bearer ".concat(this.props.auth.authToken)}},r={method:"GET",headers:{Authorization:"Bearer ".concat(this.props.auth.authToken)}};fetch("http://10.6.130.90/users/".concat(this.props.currentUser.username,"/Crops?type=").concat(this.selection),n).then((function(e){return e.json()})).then((function(e){if("res"==e.type&&"OK"==e.msg)fetch("http://10.6.130.90/users/".concat(t.props.currentUser.username),r).then((function(e){return e.json()})).then((function(e){"res"===e.type?t.props.onSetUser(e):t.props.onLogOut()}));else{if("res"!=e.type)throw new Error("Unexpected response");alert(e.msg)}})).catch((function(e){console.log(e),t.props.onLogOut()}))}}},{key:"render",value:function(){if(this.props.elementInfo){var e=new Date(this.props.elementInfo.lastProduction),t=new Date(this.props.elementInfo.lastProduction+36e5*this.props.elementInfo.cycleTime),n=Object(T.jsx)("p",{children:"En proceso de cultivo..."});return t.getTime()<(new Date).getTime()&&(n=Object(T.jsx)("button",{onClick:this.harvestCrop,children:"Cosechar"})),Object(T.jsxs)("div",{style:{width:"100%",minHeight:"30vh",display:"flex",borderTopStyle:"solid",marginBottom:"30px"},children:[Object(T.jsxs)("div",{style:{width:"50%",height:"100px",margin:"10px"},children:[Object(T.jsxs)("p",{children:["Nombre: ",this.props.elementInfo.type]}),Object(T.jsxs)("p",{children:["Fecha de cultivo: ",String(e.getDate())+"/"+String(e.getMonth()+1)+"/"+String(e.getFullYear())+" "+String(e.getHours())+":"+String(e.getMinutes())]}),Object(T.jsxs)("p",{children:["Fecha de recogida: ",String(t.getDate())+"/"+String(t.getMonth()+1)+"/"+String(t.getFullYear())+" "+String(t.getHours())+":"+String(t.getMinutes())]}),n]}),Object(T.jsx)("div",{style:{width:"50%",height:"100px",margin:"10px"},children:Object(T.jsx)("img",{src:this.props.elementInfo.icon.src,alt:"",style:{width:"auto",height:"25vh",marginLeft:"25%"}})})]})}var r=[];r.push(Object(T.jsx)("option",{value:"",default:!0,children:" --- "}));for(var s=0;s<this.props.seeds.length;s++)r.push(Object(T.jsxs)("option",{value:this.props.seeds[s][1].type,children:[this.props.seeds[s][1].type," (",this.props.seeds[s][0],")"]}));return Object(T.jsxs)("div",{style:{width:"100%",minHeight:"10vh",borderTopStyle:"solid",marginBottom:"30px"},children:[Object(T.jsx)("p",{children:"Espacio disponible para cultivos"}),Object(T.jsxs)("form",{children:[Object(T.jsx)("select",{onChange:this.updateSel,children:r}),Object(T.jsx)("button",{type:"button",onClick:this.growCrop,children:"Plantar"})]})]})}}]),n}(s.a.Component),Y=Object(C.a)(Object(d.b)((function(e,t){return{currentUser:e.currentUser,auth:e.auth}}),(function(e,t){return Object(u.a)({onSetUser:U,onLogOut:S},e)}))(W)),Z=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"render",value:function(){if(""===this.props.currentUser.username)return Object(T.jsx)(B.a,{to:"/"});for(var e=[],t=0;t<this.props.currentUser.farmElements.cropSpaces;t++)this.props.currentUser.farmElements.currentCrops[t]?e.push(Object(T.jsx)(Y,{elementInfo:Object(q.a)({},this.props.currentUser.farmElements.currentCrops[t]),id:String(t)},String(t))):e.push(Object(T.jsx)(Y,{seeds:this.props.currentUser.inventory.seeds},String(t)));return console.log(e),Object(T.jsx)("div",{children:Object(T.jsx)(P,{children:Object(T.jsxs)("div",{style:{width:"90%",marginLeft:"5%",paddingTop:"20px"},children:[Object(T.jsx)(A.b,{to:"/",children:Object(T.jsx)("button",{style:{marginBottom:"60px"},children:"Volver"})}),Object(T.jsx)("h1",{children:"Zona de cultivo"}),e]})})})}}]),n}(s.a.Component),Q=Object(d.b)((function(e,t){return{currentUser:e.currentUser}}),(function(e,t){return Object(u.a)({},e)}))(Z),$=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"render",value:function(){if(""===this.props.currentUser.username)return Object(T.jsx)(B.a,{to:"/"});for(var e=[],t=0;t<this.props.currentUser.inventory.products.length;t++)e.push(Object(T.jsxs)("div",{style:{width:"100%",minHeight:"30vh",display:"flex",borderTopStyle:"solid",marginBottom:"30px"},children:[Object(T.jsxs)("div",{style:{width:"50%",height:"100px",margin:"10px"},children:[Object(T.jsx)("h3",{children:"".concat(this.props.currentUser.inventory.products[t][1].name)}),Object(T.jsxs)("p",{children:["Cantidad disponible: ","".concat(this.props.currentUser.inventory.products[t][0])]}),Object(T.jsxs)("p",{children:["Precio de venta: ","".concat(this.props.currentUser.inventory.products[t][1].sellPrice)]})]}),Object(T.jsx)("div",{style:{width:"50%",height:"100px",margin:"10px"},children:Object(T.jsx)("img",{src:this.props.currentUser.inventory.products[t][1].icon.src,alt:"",style:{width:"auto",height:"25vh",marginLeft:"25%"}})})]}));return Object(T.jsx)("div",{children:Object(T.jsx)(P,{children:Object(T.jsxs)("div",{style:{width:"90%",marginLeft:"5%",paddingTop:"20px"},children:[Object(T.jsx)(A.b,{to:"/",children:Object(T.jsx)("button",{children:"Volver"})}),Object(T.jsx)("br",{}),Object(T.jsx)("h1",{children:"Inventario"}),Object(T.jsx)("h2",{children:"Elementos b\xe1sicos"}),Object(T.jsxs)("p",{children:["Saldo del usuario: ","".concat(this.props.currentUser.inventory.currentCash)," monedas"]}),Object(T.jsxs)("p",{children:["Fertilizante: ","".concat(this.props.currentUser.inventory.cropBoost)," unidades"]}),Object(T.jsxs)("p",{children:["Comida para animales: ","".concat(this.props.currentUser.inventory.animalBoost)," unidades"]}),Object(T.jsx)("br",{}),Object(T.jsx)("h2",{children:"Productos"}),e]})})})}}]),n}(s.a.Component),ee=Object(d.b)((function(e,t){return{currentUser:e.currentUser}}),(function(e,t){return Object(u.a)({},e)}))($),te=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).buyItem=r.buyItem.bind(Object(h.a)(r)),r.sellItem=r.sellItem.bind(Object(h.a)(r)),r}return Object(c.a)(n,[{key:"buyItem",value:function(e){var t=this,n={method:"POST",headers:{Authorization:"Bearer ".concat(this.props.auth.authToken)}},r={method:"GET",headers:{Authorization:"Bearer ".concat(this.props.auth.authToken)}};fetch("http://10.6.130.90/users/".concat(this.props.currentUser.username,"/Seeds?name=").concat(e.target.value,"&quantity=1"),n).then((function(e){return e.json()})).then((function(e){if("res"==e.type&&"OK"==e.msg)fetch("http://10.6.130.90/users/".concat(t.props.currentUser.username),r).then((function(e){return e.json()})).then((function(e){"res"===e.type?t.props.onSetUser(e):t.props.onLogOut()}));else{if("res"!=e.type)throw new Error("Unexpected response");alert(e.msg)}})).catch((function(e){console.log(e),t.props.onLogOut()}))}},{key:"sellItem",value:function(e){var t=this,n={method:"POST",headers:{Authorization:"Bearer ".concat(this.props.auth.authToken)}},r={method:"GET",headers:{Authorization:"Bearer ".concat(this.props.auth.authToken)}};fetch("http://10.6.130.90/users/".concat(this.props.currentUser.username,"/Products?name=").concat(e.target.value,"&quantity=1"),n).then((function(e){return e.json()})).then((function(e){if("res"==e.type&&"OK"==e.msg)fetch("http://10.6.130.90/users/".concat(t.props.currentUser.username),r).then((function(e){return e.json()})).then((function(e){"res"===e.type?t.props.onSetUser(e):t.props.onLogOut()}));else{if("res"!=e.type)throw new Error("Unexpected response");alert(e.msg)}})).catch((function(e){console.log(e),t.props.onLogOut()}))}},{key:"render",value:function(){if(""===this.props.currentUser.username)return Object(T.jsx)(B.a,{to:"/"});for(var e=[],t=0;t<this.props.currentUser.inventory.products.length;t++)e.push(Object(T.jsxs)("div",{style:{width:"100%",minHeight:"30vh",display:"flex",borderTopStyle:"solid",marginBottom:"30px"},children:[Object(T.jsxs)("div",{style:{width:"50%",height:"100px",margin:"10px"},children:[Object(T.jsx)("h3",{children:"".concat(this.props.currentUser.inventory.products[t][1].name)}),Object(T.jsxs)("p",{children:["Cantidad disponible: ","".concat(this.props.currentUser.inventory.products[t][0])]}),Object(T.jsxs)("p",{children:["Precio de venta: ","".concat(this.props.currentUser.inventory.products[t][1].sellPrice)]}),Object(T.jsx)("button",{value:this.props.currentUser.inventory.products[t][1].name,onClick:this.sellItem,children:"VENDER"})]}),Object(T.jsx)("div",{style:{width:"50%",height:"100px",margin:"10px"},children:Object(T.jsx)("img",{src:this.props.currentUser.inventory.products[t][1].icon.src,alt:"",style:{width:"auto",height:"25vh",marginLeft:"25%"}})})]}));var n=Object(T.jsxs)("div",{children:[Object(T.jsx)("p",{children:"Manzano - 8 monedas/ud "}),Object(T.jsx)("button",{value:"Manzano",onClick:this.buyItem,children:"COMPRAR"}),Object(T.jsx)("br",{}),Object(T.jsx)("p",{children:"Cerezo - 5 monedas/ud "}),Object(T.jsx)("button",{value:"Cerezo",onClick:this.buyItem,children:"COMPRAR"}),Object(T.jsx)("br",{}),Object(T.jsx)("p",{children:"Patata - 16 monedas/ud "}),Object(T.jsx)("button",{value:"Patata",onClick:this.buyItem,children:"COMPRAR"}),Object(T.jsx)("br",{}),Object(T.jsx)("p",{children:"Aguacate - 800 monedas/ud "}),Object(T.jsx)("button",{value:"Aguacate",onClick:this.buyItem,children:"COMPRAR"}),Object(T.jsx)("br",{})]});return Object(T.jsx)("div",{children:Object(T.jsx)(P,{children:Object(T.jsxs)("div",{style:{width:"90%",marginLeft:"5%",paddingTop:"20px"},children:[Object(T.jsx)(A.b,{to:"/",children:Object(T.jsx)("button",{children:"Volver"})}),Object(T.jsx)("br",{}),Object(T.jsx)("h1",{children:"Vender"}),e,Object(T.jsx)("h1",{children:"Comprar"}),Object(T.jsxs)("h2",{children:["Saldo: ",this.props.currentUser.inventory.currentCash," monedas"]}),n]})})})}}]),n}(s.a.Component),ne=Object(d.b)((function(e,t){return{currentUser:e.currentUser,auth:e.auth}}),(function(e,t){return Object(u.a)({onSetUser:U,onLogOut:S},e)}))(te),re=function(e){Object(p.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.cookies,n=t.get("authToken"),r=t.get("authUser");if(n&&r){var s={method:"GET",headers:{Authorization:"Bearer ".concat(n)}};fetch("http://10.6.130.90/users/".concat(r),s).then((function(e){return e.json()})).then((function(n){"res"===n.type?(e.props.onSetUser(n),e.props.onSetToken(t.get("authToken"))):(t.set("authToken",void 0,{path:"/"}),t.set("authUser",void 0,{path:"/"}))})).catch((function(e){console.log(e)}))}else t.set("authToken",void 0,{path:"/"}),t.set("authUser",void 0,{path:"/"})}},{key:"render",value:function(){return Object(T.jsxs)(A.a,{children:[Object(T.jsx)(G,{}),Object(T.jsxs)(B.d,{children:[Object(T.jsx)(B.b,{exact:!0,path:"/",element:Object(T.jsx)(X,{props:{username:this.props.currentUser.username}})}),Object(T.jsx)(B.b,{path:"/signin",element:Object(T.jsx)(L,{props:{username:this.props.currentUser.username}})}),Object(T.jsx)(B.b,{path:"/signup",element:Object(T.jsx)(K,{props:{username:this.props.currentUser.username}})}),Object(T.jsx)(B.b,{path:"/Crops",element:Object(T.jsx)(Q,{})}),Object(T.jsx)(B.b,{path:"/Inventory",element:Object(T.jsx)(ee,{})}),Object(T.jsx)(B.b,{path:"/Shop",element:Object(T.jsx)(ne,{})})]}),Object(T.jsx)(J,{})]})}}]),n}(s.a.Component),se=Object(C.a)(Object(d.b)((function(e,t){return{auth:e.auth,currentUser:e.currentUser}}),(function(e,t){return Object(u.a)({onSetToken:k,onSetUser:U},e)}))(re)),oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),s(e),o(e),a(e)}))};var ae=n(38);var ie=Object(u.b)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:"",fullname:"",email:"",registration:0,farmElements:{cropSpaces:0,animalSpaces:0,currentCrops:[],currentAnimals:[]},inventory:{currentCash:0,cropBoost:0,animalBoost:0,products:[],seeds:[]}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case f:return r;case y:return{username:"",fullname:"",email:"",registration:0,farmElements:{cropSpaces:0,animalSpaces:0,currentCrops:[],currentAnimals:[]},inventory:{currentCash:0,cropBoost:0,animalBoost:0,products:[],seeds:[]}};default:return e}},signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:"",password:"",msg:""},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,s={};switch(n){case j:return void 0!=(s=Object(q.a)({},e))[r.name]&&(s[r.name]=r.value),s;case b:return{username:"",password:"",msg:""};case m:return(s=Object(q.a)({},e)).msg=r.msg,s;default:return e}},signUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:"",password:"",email:"",passwordRepeat:"",register:!1,validUser:"",validPassword:"",validEmail:""},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,s={};switch(n){case M:return void 0!=(s=Object(q.a)({},e))[r.name]&&(s[r.name]=r.value),s;case z:return{username:"",password:"",email:"",passwordRepeat:"",register:!1,validUser:"",validPassword:"",validEmail:""};case R:return(s=Object(q.a)({},e)).validUser=void 0===r.validUser?s.validUser:r.validUser,s.validPassword=void 0===r.validPassword?s.validPassword:r.validPassword,s.validEmail=void 0===r.validEmail?s.validEmail:r.validEmail,s;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authToken:""},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n==w?r:e}}),ce=Object(u.c)(ie,{currentUser:{username:"",fullname:"",email:"",registration:0,farmElements:{cropSpaces:0,animalSpaces:0,currentCrops:[],currentAnimals:[]},inventory:{currentCash:0,cropBoost:0,animalBoost:0,products:[],seeds:[]}},signIn:{username:"",password:"",msg:""},signUp:{username:"",password:"",email:"",passwordRepeat:"",register:!1,validUser:"",validPassword:"",validEmail:""},auth:{authToken:""}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.a.render(Object(T.jsx)(ae.a,{children:Object(T.jsx)(d.a,{store:ce,children:Object(T.jsx)(se,{})})}),document.getElementById("root")),oe()}},[[35,1,2]]]);
//# sourceMappingURL=main.42880db3.chunk.js.map